<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <p:dialog id="ProductoEditDlg" widgetVar="ProductoEditDialog" modal="true" resizable="false" appendTo="@(body)" header="EDITAR PRODUCTO">
            <h:form id="ProductoEditForm">
                
                <p:messages  id="msj"     />
                
                <h:panelGroup id="display">
                    <p:panelGrid columns="2" rendered="#{productoController.selectedProducto != null}">
                        
                        <p:outputLabel value="Nombre:" for="nombre" />
                        <p:inputText id="nombre" value="#{productoController.selectedProducto.nombre}" title="#{bundle.EditProductoTitle_nombre}" />
                        
                        <p:outputLabel value="Unidad compra" for="unidadCompra" />
                        <p:inputText id="unidadCompra" value="#{productoController.selectedProducto.unidadCompra}" title="#{bundle.EditProductoTitle_unidadCompra}" />
                        
                        <p:outputLabel value="Stock ideal:" for="stockIdeal" />
                        <p:inputText id="stockIdeal" value="#{productoController.selectedProducto.stockIdeal}" title="#{bundle.EditProductoTitle_stockIdeal}" />
                        
                        <p:outputLabel value="Stock máximo" for="stockMaximo" />
                        <p:inputText id="stockMaximo" value="#{productoController.selectedProducto.stockMaximo}" title="#{bundle.EditProductoTitle_stockMaximo}" />
                        
                        <p:outputLabel value="Stock mínimo" for="stockMinimo" />
                        <p:inputText id="stockMinimo" value="#{productoController.selectedProducto.stockMinimo}" title="#{bundle.EditProductoTitle_stockMinimo}" />
                       
                        <p:outputLabel value="Stock actual:" for="stockActual" />
                        <p:inputText id="stockActual" value="#{productoController.selectedProducto.stockActual}" title="#{bundle.EditProductoTitle_stockActual}" />
                        
                      
                            <p:outputLabel value="Proveedor:" for="proveedor" />
                                  <p:selectOneMenu id="proveedor"
                                                   value="#{productoController.selectedProducto.idProveedor}"
                                                   style="width: 90%" 
                                                   styleClass="Wid90"
                                                   converter="proveedorConverter"
                                                   filter="true" filterMatchMode="startsWith"
                                                   effect="blind"
                                                   required="true"
                                                   requiredMessage="Seleccione proveedor!">

                                    <f:selectItem itemLabel="Seleccione Proveedor" />
                                    <f:selectItems value="#{proveedorController.items}"
                                                   var="item"
                                                   itemValue="#{proveedorController.selected.nombre}"
                                                   itemLabel="#{item.nombre.toString()}"/>  
                                    </p:selectOneMenu>
                            
                            
                              <p:outputLabel value="Categoria:" for="categoria" />
                                  <p:selectOneMenu id="categoria"
                                                   value="#{productoController.selectedProducto.idCategoria}"
                                                   style="width: 90%" 
                                                   styleClass="Wid90"
                                                   converter="categoriaConverter"
                                                   filter="true" filterMatchMode="startsWith"
                                                   effect="blind"
                                                   required="true"
                                                   requiredMessage="Seleccione categoría!">

                                    <f:selectItem itemLabel="Seleccione Categoría" />
                                    <f:selectItems value="#{categoriaController.items}"
                                                   var="item"
                                                   itemValue="#{item}"
                                                   itemLabel="#{item.nombre.toString()}"/>  
                                    </p:selectOneMenu>
                            
                        
                       
                        
                        
                        
                        
                    </p:panelGrid>
                    
                    <p:panel>
                        
                         <p:commandButton actionListener="#{productoController.llamarEditarProducto()}" 
                                     value="Guardar cambios"  oncomplete="handleSubmit(args, 'ProductoEditDialog')"
                                      update="ProductoEditForm,:ProductoListForm:datatableList, msj,:growl"/>
                    
                                    
                                 
                                     
                                    
                    
                    </p:panel>
                    
                    
                    
                    
                </h:panelGroup>
            </h:form>
        </p:dialog>

    </ui:composition>
</html>
